<%- include('../templates/header', {
    metaTitle: 'Liste des cartes officielles | Bouboum.fr',
    metaDescription: 'Liste des cartes officielles Bouboum élaborées par un éditeur surpuissant.',
}) %>

<div class="mt-8 container mx-auto px-4 items-center text-center">
<h1 class="text-4xl text-red-extinction mb-10">Liste des cartes officielles</h1>
<div class="mb-2 flex flex-col items-center">
    <%  if (admin) { %>
    <%- include('./_info') %>
    <% } %>
    <span>Rechercher</span>
    <div class="flex mt-2">
        <input type="text" id="search" maxlength="37" minlength="4"
            class="overflow-hidden input-text ml-2 bg-extinction text-left flex items-center" style="width: 20rem;"
            placeholder="Titre...">
    </div>
</div>

<div id="maps" class="flex flex-wrap mt-8">
    <% maps.forEach(map => { %>
    <div class="map flex flex-col text-left mb-6 m-2" data-name="<%= map.name %>" data-author="<%= map.author %>"
        data-created-at="<%= map.createdAt %>">
        <div class="download-container">
            <a href="/cartes/<%= map.id %>"><img class="bg-empty-square-extinction" src="<%= map.image %>"
                    alt="<%= map.name %>"></a>
            <a class="rounded p-1 download-top-right" href="<%= map.path %>" rel="nofollow"
                download="<%= map.name %>"><img src="/images/download-24px.svg" alt="download"></a>
            <%  if (admin) { %>
            <img class="rounded p-1 delete-bottom-right" data-id="<%= map.id %>" src="/images/delete.svg"
                alt="delete">
            <% } %>
        </div>

        <label class="mt-1 uppercase truncate text-base">
            <a href="/cartes/<%= map.id %>" class="text-menu-extinction"><%= map.name %></a>
        </label>
    </div>
    <% }); %>
</div>

</div>
<script src="/javascripts/search.min.js"></script>
<% if (admin) { %>
<script src="/javascripts/admin-map.min.js"></script>
<% } %>

<%- include('../templates/footer') %>